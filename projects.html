<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="author" content="Ngono" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Projets — Portfolio</title>
    <style>
        :root{
            --bg:#0f1720; --card:#0b1220; --muted:#9aa4b2; --accent:#06b6d4; --glass:rgba(255,255,255,0.03);
            --radius:12px; --gap:18px; font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            color-scheme: dark;
        }
        *{box-sizing:border-box}
        body{
            margin:0; background:linear-gradient(180deg,#071021 0%,var(--bg) 100%); color:#e6eef6;
            -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; padding:28px;
        }

        header{
            display:flex; gap:18px; align-items:center; justify-content:space-between; margin-bottom:20px;
        }
        .brand{display:flex; gap:12px; align-items:center}
        .logo{
            width:52px; height:52px; border-radius:10px; background:linear-gradient(135deg,#06b6d4,#7c3aed);
            display:flex; align-items:center; justify-content:center; font-weight:700; color:#02121a;
        }
        h1{font-size:20px; margin:0}
        p.lead{margin:2px 0 0; color:var(--muted); font-size:13px}

        /* Controls */
        .controls{display:flex; gap:12px; align-items:center}
        .search{
            background:var(--glass); border:1px solid rgba(255,255,255,0.04); padding:8px 12px; border-radius:10px; color:inherit;
            min-width:220px;
        }
        .filters{display:flex; gap:8px; flex-wrap:wrap}
        .chip{
            background:transparent; border:1px solid rgba(255,255,255,0.04); padding:6px 10px; border-radius:999px; color:var(--muted);
            cursor:pointer; font-size:13px;
        }
        .chip.active{background:linear-gradient(90deg, rgba(6,182,212,0.12), rgba(124,58,237,0.08)); border-color:rgba(6,182,212,0.25); color:var(--accent)}

    /* Grid */
    .grid{
        display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:var(--gap);
        margin-top:20px;
    }
    .card{
        background:linear-gradient(180deg, rgba(255,255,255,0.05), transparent);
        border-radius:var(--radius); overflow:hidden; border:1px solid rgba(255,255,255,0.1);
        display:flex; flex-direction:column; min-height:260px;
    }
    .thumb{height:140px; background:#b0e0ff; display:block; overflow:hidden}
    .thumb img{width:100%; height:100%; object-fit:cover; display:block}
    .card-body{padding:14px; display:flex; flex-direction:column; gap:8px; flex:1}
    .title{font-weight:600; font-size:15px; margin:0}
    .desc{color:var(--muted); font-size:13px; margin:0}
    .tags{display:flex; gap:8px; flex-wrap:wrap; margin-top:auto}
    .tag{font-size:12px; padding:6px 8px; border-radius:999px; background:rgba(255,255,255,0.05); color:var(--muted)}

    .actions{display:flex; gap:8px; margin-top:10px}
    .btn{
        padding:8px 10px; border-radius:10px; border:1px solid rgba(30,41,59,0.1); background:transparent; color:var(--muted);
        text-decoration:none; font-weight:600; cursor:pointer; font-size:13px;
    }
    .btn.primary{background:linear-gradient(90deg,var(--accent),#7dd3fc); color:#ffffff; border:none}

        /* Empty state */
        .empty{padding:40px; text-align:center; color:var(--muted); border:1px dashed rgba(255,255,255,0.03); border-radius:10px}

        /* Modal */
        .modal-backdrop{
            position:fixed; inset:0; background:rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; z-index:60;
        }
        .modal{background:#071427; width:min(900px,96%); border-radius:12px; padding:18px; border:1px solid rgba(255,255,255,0.03); max-height:90vh; overflow:auto}
        .modal .modal-header{display:flex; justify-content:space-between; align-items:center; gap:12px}
        .modal .modal-body{display:grid; grid-template-columns:1fr 320px; gap:18px; margin-top:12px}
        .modal .modal-body img{width:100%; border-radius:8px; display:block}
        .close{background:transparent; border:none; color:var(--muted); cursor:pointer; font-size:16px}

        @media (max-width:800px){
            .modal .modal-body{grid-template-columns:1fr}
        }
    </style>
</head>
<body>
    <header>
        <div class="brand">
            <div class="logo">P</div>
            <div>
                <h1>Mes projets</h1>
                <p class="lead">Sélection de projets personnels et professionnels</p>
            </div>
        </div>

        <div class="controls" role="search" aria-label="Filtres et recherche">
            <input id="search" class="search" placeholder="Rechercher (titre, technologie...)" />
            <div class="filters" id="filters" aria-hidden="false">
                <button class="chip active" data-filter="all">Tous</button>
                <button class="chip" data-filter="web">Web</button>
                <button class="chip" data-filter="mobile">Mobile</button>
                <button class="chip" data-filter="data">Data</button>
                <button class="chip" data-filter="opensource">Open-source</button>
            </div>

            <!-- Liens vers les pages du dossier -->
            <a class="btn" href="guestbook.html">Guestbook</a>
            <a class="btn" href="hobbies.html">Hobbies</a>
            <a class="btn" href="services.html">Services</a>
        </div>
    </header>

    <main>
        <section class="grid" id="projects">
            <!-- Chaque card représente un projet. Modifiez le contenu / images / liens. -->
            <article class="card" data-tags="web,opensource">
                <div class="thumb"><img src="https://picsum.photos/seed/p1/800/450" alt="Aperçu projet 1"></div>
                <div class="card-body">
                    <h3 class="title">Portfolio personnel</h3>
                    <p class="desc">Site responsive construit avec HTML, CSS et un peu de JavaScript. Déploiement CI/CD.</p>
                    <div class="tags">
                        <span class="tag">HTML</span>
                        <span class="tag">CSS</span>
                        <span class="tag">Open-source</span>
                    </div>
                    <div class="actions">
                        <button class="btn" data-action="open" aria-label="Ouvrir détails Portfolio personnel">Voir</button>
                        <a class="btn primary" href="portfolio.html" target="_blank" rel="noopener">Live</a>
                    </div>
                </div>
            </article>

            <article class="card" data-tags="web,mobile"></article>
                <div class="thumb"><img src="https://picsum.photos/seed/p2/800/450" alt="Aperçu projet 2"></div>
                <div class="card-body">
                    <h3 class="title">Application de recettes</h3>
                    <p class="desc">PWA pour consulter et sauvegarder des recettes, synchronisation hors-ligne.</p>
                    <div class="tags">
                        <span class="tag">PWA</span>
                        <span class="tag">Service Worker</span>
                        <span class="tag">React</span>
                    </div>
                    <div class="actions">
                        <button class="btn" data-action="open">Voir</button>
                        <a class="btn" href="recipes.html" target="_blank" rel="noopener">App</a>
                    </div>
                </div>
            </article>

            <article class="card" data-tags="data">
                <div class="thumb"><img src="https://picsum.photos/seed/p3/800/450" alt="Aperçu projet 3"></div>
                <div class="card-body">
                    <h3 class="title">Dashboard Analytics</h3>
                    <p class="desc">Tableaux de bord avec visualisations temps réel et alertes personnalisées.</p>
                    <div class="tags">
                        <span class="tag">D3</span>
                        <span class="tag">Node</span>
                        <span class="tag">Data</span>
                    </div>
                    <div class="actions">
                        <button class="btn" data-action="open">Voir</button>
                        <a class="btn" href="analytics.html" target="_blank" rel="noopener">Demo</a>
                    </div>
                </div>
            </article>

            <article class="card" data-tags="web,opensource">
                <div class="thumb"><img src="https://picsum.photos/seed/p4/800/450" alt="Aperçu projet 4"></div>
                <div class="card-body">
                    <h3 class="title">Composants UI</h3>
                    <p class="desc">Bibliothèque de composants réutilisables avec documentation interactive.</p>
                    <div class="tags">
                        <span class="tag">Vue</span>
                        <span class="tag">Design System</span>
                        <span class="tag">Open-source</span>
                    </div>
                    <div class="actions">
                        <button class="btn" data-action="open">Voir</button>
                        <a class="btn" href="ui-components.html" target="_blank" rel="noopener">Repo</a>
                    </div>
                </div>
            </article>

            <article class="card" data-tags="mobile">
                <div class="thumb"><img src="https://picsum.photos/seed/p5/800/450" alt="Aperçu projet 5"></div>
                <div class="card-body">
                    <h3 class="title">Tracker d'entraînement</h3>
                    <p class="desc">Application mobile pour suivre séances, objectifs et statistiques.</p>
                    <div class="tags">
                        <span class="tag">Flutter</span>
                        <span class="tag">Mobile</span>
                    </div>
                    <div class="actions">
                        <button class="btn" data-action="open">Voir</button>
                        <a class="btn" href="tracker.html" target="_blank" rel="noopener">Mobile</a>
                    </div>
                </div>
            </article>

            <article class="card" data-tags="data,opensource">
                <div class="thumb"><img src="https://picsum.photos/seed/p6/800/450" alt="Aperçu projet 6"></div>
                <div class="card-body">
                    <h3 class="title">Pipeline ETL</h3>
                    <p class="desc">Automatisation de l'ingestion et du nettoyage des données pour analytics.</p>
                    <div class="tags">
                        <span class="tag">Python</span>
                        <span class="tag">Airflow</span>
                        <span class="tag">ETL</span>
                    </div>
                    <div class="actions">
                        <button class="btn" data-action="open">Voir</button>
                        <a class="btn" href="etl.html" target="_blank" rel="noopener">Docs</a>
                    </div>
                </div>
            </article>

        </section>

        <div id="empty" class="empty" style="display:none; margin-top:18px;">
            Aucun projet ne correspond à votre recherche.
        </div>
    </main>

    <!-- Modal détail projet -->
    <div id="modalBackdrop" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal" role="document">
            <div class="modal-header">
                <div>
                    <h2 id="modalTitle">Titre projet</h2>
                    <p id="modalSubtitle" style="margin:4px 0; color:var(--muted); font-size:13px;"></p>
                </div>
                <div>
                    <button class="close" id="modalClose" aria-label="Fermer">✕</button>
                </div>
            </div>
            <div class="modal-body">
                <div>
                    <img id="modalImg" src="" alt="Aperçu projet">
                </div>
                <aside>
                    <h3 style="margin-top:0">Détails</h3>
                    <p id="modalDesc" style="color:var(--muted)"></p>
                    <h4 style="margin-bottom:6px">Technologies</h4>
                    <div id="modalTags" style="display:flex; gap:8px; flex-wrap:wrap"></div>
                    <div style="margin-top:14px; display:flex; gap:8px">
                        <a id="modalPrimary" class="btn primary" href="#" target="_blank" rel="noopener">Voir en ligne</a>
                        <a id="modalSecondary" class="btn" href="#" target="_blank" rel="noopener">Repository</a>
                    </div>
                </aside>
            </div>
        </div>
    </div>

    <script>
        // Sélection et initialisation
        const cards = Array.from(document.querySelectorAll('.card'));
        const searchInput = document.getElementById('search');
        const chips = Array.from(document.querySelectorAll('.chip'));
        const empty = document.getElementById('empty');
        const modalBackdrop = document.getElementById('modalBackdrop');
        const modalTitle = document.getElementById('modalTitle');
        const modalSubtitle = document.getElementById('modalSubtitle');
        const modalImg = document.getElementById('modalImg');
        const modalDesc = document.getElementById('modalDesc');
        const modalTags = document.getElementById('modalTags');
        const modalPrimary = document.getElementById('modalPrimary');
        const modalSecondary = document.getElementById('modalSecondary');
        let activeFilter = 'all';

        // Filtre par tag
        function applyFilter(){
            const q = searchInput.value.trim().toLowerCase();
            let visible = 0;
            cards.forEach(card=>{
                const tags = card.dataset.tags || '';
                const title = (card.querySelector('.title')?.textContent || '').toLowerCase();
                const desc = (card.querySelector('.desc')?.textContent || '').toLowerCase();
                const matchFilter = activeFilter === 'all' ? true : tags.split(',').includes(activeFilter);
                const matchQuery = q === '' || title.includes(q) || desc.includes(q) || tags.includes(q);
                if(matchFilter && matchQuery){
                    card.style.display = '';
                    visible++;
                } else {
                    card.style.display = 'none';
                }
            });
            empty.style.display = visible ? 'none' : '';
        }

        // Événements chips
        chips.forEach(chip=>{
            chip.addEventListener('click', ()=>{
                chips.forEach(c=>c.classList.remove('active'));
                chip.classList.add('active');
                activeFilter = chip.dataset.filter;
                applyFilter();
            });
        });

        // Recherche
        searchInput.addEventListener('input', ()=>applyFilter());
        searchInput.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ searchInput.value=''; applyFilter(); } });

        // Ouvrir modal avec données du projet
        document.querySelectorAll('[data-action="open"]').forEach((btn)=>{
            btn.addEventListener('click', ()=>{
                const card = btn.closest('.card');
                const img = card.querySelector('.thumb img')?.src || '';
                const title = card.querySelector('.title')?.textContent || '';
                const desc = card.querySelector('.desc')?.textContent || '';
                const tags = Array.from(card.querySelectorAll('.tag')).map(t=>t.textContent);
                // Récupère les liens présents dans la card (primary / secondary)
                const primaryLink = card.querySelector('.actions a.primary')?.href || card.querySelector('.actions a')?.href || '#';
                const secondaryLink = Array.from(card.querySelectorAll('.actions a')).find(a=>!a.classList.contains('primary'))?.href || '#';

                modalTitle.textContent = title;
                modalSubtitle.textContent = tags.join(' • ');
                modalImg.src = img;
                modalImg.alt = 'Aperçu ' + title;
                modalDesc.textContent = desc;
                modalTags.innerHTML = tags.map(t=>`<span class="tag" style="background:rgba(255,255,255,0.02)">${t}</span>`).join('');
                modalPrimary.href = primaryLink;
                modalSecondary.href = secondaryLink;
                openModal();
            });
        });

        function openModal(){
            modalBackdrop.style.display = 'flex';
            modalBackdrop.setAttribute('aria-hidden','false');
            document.body.style.overflow = 'hidden';
        }
        function closeModal(){
            modalBackdrop.style.display = 'none';
            modalBackdrop.setAttribute('aria-hidden','true');
            document.body.style.overflow = '';
        }

        document.getElementById('modalClose').addEventListener('click', closeModal);
        modalBackdrop.addEventListener('click', (e)=>{ if(e.target === modalBackdrop) closeModal(); });
        document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeModal(); });

        // Initial
        applyFilter();
    </script>
</body>
</html>